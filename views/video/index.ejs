<%- include('../partial/head.ejs') %>

<link rel="stylesheet" href="/css/main.css" />
<link rel="stylesheet" href="/css/pagination.css" />
    <style>
        /* تحديد طول الكاروسيل */
        .carousel-inner img {
            height: 300px;
            object-fit: cover;
        }

        /* جعل الصور داخل البطاقات متجاوبة */
        .card-img-top {
            width: auto;
            height: 150px;
            max-height: 150px;
            /* ضبط الارتفاع الأقصى للصور */
            object-fit: cover;
        }

        .card-body {
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            height: 100%;
        }
    </style>
    </head>

    <body class="container border border-info">
        <%- include('../partial/navBar.ejs') %>


            <div id="carouselExampleSlidesOnly" class=" carousel slide" data-bs-ride="carousel">
                <div class="carousel-inner">
                    <div class="carousel-item active">
                        <img src="/image/panner/panner3.jpg" class="d-block w-100">
                    </div>
                <div class="carousel-item">
                        <img src="/image/panner/panner5.png" class="d-block w-100" alt="...">
                </div> 
                    <div class="carousel-item">
                        <img src="/image/panner/panner4.jpg" class="d-block w-100">
                    </div>
                </div>
            </div>


            <h1>قائمة الفيديوهات</h1>
            <div class="album py-5 bg-light">
                <div class="container">
                    <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3">
                        <% if (videos.length> 0) { %>
                            <% videos.forEach(video=> { %>
                                <div class="col-sm-4 my-3">
                                    <div class="card shadow-sm border-success">
                                        <img src="<%= video.thumbnailUrl %>"
                                            class="card-img-top border border-2 rounded-3" alt="image">
                                        <div class="card-body border border-2 rounded-3">
                                            <p class="card-text"> الصف: <%= video.grade %>
                                            </p>
                                            <p class="card-text">عنوان الدرس: <%= video.title %>
                                            </p>
                                            <div class="d-flex justify-content-between align-items-center">
                                                <a href="/video/<%= video.id %>" role="button"
                                                    class="btn btn-sm btn-outline-info">عرض</a>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <% }) %>
                                    <% } else { %>
                                        <h1>لا يوجد فيديوهات</h1>
                                    <% } %>
                    </div>
                </div>
            </div>

            <nav aria-label="Page navigation">
                <ul class="pagination justify-content-center">
                    <% if (hasPreviousPage) { %>
                        <li class="page-item">
                            <a class="page-link" href="/videos?page=<%= previousPage %>" aria-label="Previous">
                                <span aria-hidden="true">&laquo;</span>
                            </a>
                        </li>
                        <% } %>

                            <% for (let i=1; i <=lastPage; i++) { %>
                                <li class="page-item <%= currentPage == i ? 'active' : '' %>">
                                    <a class="page-link" href="/videos?page=<%= i %>">
                                        <%= i %>
                                    </a>
                                </li>
                                <% } %>

                                    <% if (hasNextPage) { %>
                                        <li class="page-item">
                                            <a class="page-link" href="/videos?page=<%= nextPage %>" aria-label="Next">
                                                <span aria-hidden="true">&raquo;</span>
                                            </a>
                                        </li>
                                        <% } %>
                </ul>
            </nav>



            <%- include('../partial/end.ejs') %>